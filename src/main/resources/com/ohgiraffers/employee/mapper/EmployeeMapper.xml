<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ohgiraffers.employee.mapper.EmployeeMapper">


        <resultMap id="employeeResultMap2" type="com.ohgiraffers.employee.dto.EmployeeDTO">
            <id property="empId" column="EMP_ID"/>
            <result property="empName" column="EMP_NAME"/>
            <result property="phone" column="PHONE"/>
            <association property="jobDTO" javaType="com.ohgiraffers.employee.dto.JobDTO">
                <id property="jobCode" column="JOB_CODE"/>
                <result property="jobName" column="JOB_NAME"/>
            </association>
            <association property="departmentDTO" javaType="com.ohgiraffers.employee.dto.DepartmentDTO">
                <id property="deptId" column="DEPT_ID"/>
                <result property="deptTitle" column="DEPT_TITLE"/>
                <result property="locationId" column="LOCATION_ID"/>
            </association>
        </resultMap>


<!--    <resultMap id="employeeResultMap3" type="com.ohgiraffers.employee.dto.EmployeeDTO">-->
<!--        <id property="empId" column="EMP_ID"/>-->
<!--        <result property="empName" column="EMP_NAME"/>-->
<!--        <result property="phone" column="PHONE"/>-->

<!--    </resultMap>-->
<!--    <resultMap id="jobResultMap" type="com.ohgiraffers.employee.dto.JobDTO">-->
<!--        <id property="jobCode" column="JOB_CODE"/>-->
<!--        <result property="jobName" column="JOB_NAME"/>-->
<!--    </resultMap>-->
<!--    <resultMap id="department" type="com.ohgiraffers.employee.dto.DepartmentDTO">-->
<!--        <id property="deptId" column="DEPT_ID"/>-->
<!--        <result property="deptTitle" column="DEPT_TITLE"/>-->
<!--        <result property="locationId" column="LOCATION_ID"/>-->
<!--    </resultMap>-->



    <select id="selectAllMember" resultMap="employeeResultMap2">
        SELECT
                A.EMP_NAME,
                B.DEPT_TITLE,
                C.JOB_NAME,
                A.PHONE
        FROM employee A
        LEFT JOIN DEPARTMENT B ON A.DEPT_CODE = B.DEPT_ID
        LEFT JOIN job C on (A.JOB_CODE = C.JOB_CODE)
    </select>
</mapper>


